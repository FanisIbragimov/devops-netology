**Основная часть**     
    
**Задание №1**     
   
**Задача: Запуск пода из образа в деплойменте**    
    
Запустили две копии приложения командой.   
Вывод команд:    
    
```
root@ubuntu1:~# kubectl scale deploy hello-world --replicas=2
deployment.apps/hello-world scaled
root@ubuntu1:~# kubectl get deployment
NAME          READY   UP-TO-DATE   AVAILABLE   AGE
hello-node    2/2     2            2           7h1m
hello-world   2/2     2            2           4m3s
root@ubuntu1:~# kubectl get pods
NAME                          READY   STATUS    RESTARTS   AGE
hello-node-6b89d599b9-7bhjh   1/1     Running   1          7h10m
hello-node-6b89d599b9-jgcbt   1/1     Running   0          39m
hello-world-bd79c8b9f-kv4gr   1/1     Running   0          10m
hello-world-bd79c8b9f-m42dq   1/1     Running   0          12m
```

**Задание №2**     
   
**Задача: Просмотр логов для разработки**    
    
Создали пользователя, но он пока не имеет доступа к нейспейсу.   

```
root@ubuntu1:/home# kubectl --context=user1-context get pods
Error from server (Forbidden): pods is forbidden: User "user1" cannot list resource "pods" in API group "" in the namespace "default"
``` 
    
Создали нейспейс   
```
root@ubuntu1:/home# kubectl create namespace first
namespace/first created
root@ubuntu1:/home# kubectl config set-context user1-context --cluster=minikube --namespace=first --user=user1
Context "user1-context" modified.
```    
    
Создали файл yaml для управления развертыванием   
```
root@ubuntu1:/home# cat role.yaml
kind: Role
apiVersion: rbac.authorization.k8s.io/v1
metadata:
  name: user1
  namespace: first
subjects:
- kind: User
  name: user1
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: ClusterRole
  name: view
  apiGroup: rbac.authorization.k8s.io
```
    
В итоге получаем следующее предупреждение, при вводе с параметром --validate=false все равно не дает просмотра по подам.
    
```
root@ubuntu1:/home# kubectl create -f role.yaml
error: error validating "role.yaml": error validating data: [ValidationError(Role): unknown field "roleRef" in io.k8s.api.rbac.v1.Role, ValidationError(Role): unknown field "subjects" in io.k8s.api.rbac.v1.Role]; if you choose to ignore these errors, turn validation off with --validate=false
root@ubuntu1:/home# sudo nano role.yaml
root@ubuntu1:/home# kubectl create -f role.yaml --validate=false
role.rbac.authorization.k8s.io/user1 created
root@ubuntu1:/home# kubectl apply -f role.yaml --validate=false
Warning: resource roles/user1 is missing the kubectl.kubernetes.io/last-applied-configuration annotation which is required by kubectl apply. kubectl apply should only be used on resources created declaratively by either kubectl create --save-config or kubectl apply. The missing annotation will be patched automatically.
role.rbac.authorization.k8s.io/user1 configured
root@ubuntu1:/home# kubectl --context=user1-context get pods
Error from server (Forbidden): pods is forbidden: User "user1" cannot list resource "pods" in API group "" in the namespace "first"
```


**Задание №3**     
   
**Задача: Изменение количества реплик**    
    
Изменили количество реплик командой.   
Вывод команд:    
    
```
root@ubuntu1:~# kubectl scale deploy hello-world --replicas=5
deployment.apps/hello-world scaled
root@ubuntu1:~# kubectl get pods
NAME                          READY   STATUS              RESTARTS   AGE
hello-node-6b89d599b9-7bhjh   1/1     Running             1          7h11m
hello-node-6b89d599b9-jgcbt   1/1     Running             0          41m
hello-world-bd79c8b9f-2t5j8   0/1     ContainerCreating   0          2s
hello-world-bd79c8b9f-7mdq6   0/1     ContainerCreating   0          2s
hello-world-bd79c8b9f-kv4gr   1/1     Running             0          12m
hello-world-bd79c8b9f-m42dq   1/1     Running             0          14m
hello-world-bd79c8b9f-vctrb   0/1     ContainerCreating   0          2s
```
    
